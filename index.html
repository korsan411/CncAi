<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Ù…Ø¹Ø§ÙŠÙ†Ø© 3D</title>
  <script src="https://cdn.jsdelivr.net/npm/three@0.150.1/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.150.1/examples/js/controls/OrbitControls.js"></script>
</head>
<body>
  <h1>ðŸ“Œ Ù…Ø¹Ø§ÙŠÙ†Ø© ØµÙˆØ±Ø© 3D</h1>
  <input type="file" id="upload" accept="image/*"><br><br>
  <div id="viewer3d" style="width: 500px; height: 400px; border:1px solid black;"></div>

  <script>
    const upload = document.getElementById('upload');
    const container = document.getElementById('viewer3d');

    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, container.clientWidth/container.clientHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer();
    renderer.setSize(container.clientWidth, container.clientHeight);
    container.appendChild(renderer.domElement);

    const controls = new THREE.OrbitControls(camera, renderer.domElement);
    camera.position.z = 3;
    controls.update();

    let cube;
    function animate() {
      requestAnimationFrame(animate);
      renderer.render(scene, camera);
    }
    animate();

    upload.addEventListener('change', e => {
      const file = e.target.files[0];
      if (!file) return;
      const url = URL.createObjectURL(file);

      const loader = new THREE.TextureLoader();
      loader.load(url, texture => {
        if (cube) scene.remove(cube);
        const geometry = new THREE.BoxGeometry(1, 1, 1);
        const material = new THREE.MeshBasicMaterial({ map: texture });
        cube = new THREE.Mesh(geometry, material);
        scene.add(cube);
      });
    });
  </script>
</body>
</html>
